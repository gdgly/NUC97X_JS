
//2类冻结载波抄表原始数据库(仅载波抄表才用)
#include "Project.h"
#include "Terminal_AFN0D_SourceData_Fn.h"




#define Class2SourceDataLib_FnMin    161//原始数据库最小Fn
const Terminal_Class2SourceDataLib_TypeDef Terminal_Class2SourceDataLib[]=
{

	{//日冻结正向有功电能示值（总、费率1～M）
		161,//类2数据Fn
	  ADDR_AFN0DF161_Source,//原始数据测量点1地址,当为0时表示无效
		(6+(5*(1+TMaxTariff))),//原始数据每Pn长度
	},
	{//日冻结正向无功（组合无功1）电能示值（总、费率1～M）
		162,//类2数据Fn
	  ADDR_AFN0DF162_Source,//原始数据测量点1地址,当为0时表示无效
		(6+(4*(1+TMaxTariff))),//原始数据每Pn长度
	},
	{//日冻结反向有功电能示值
		163,//类2数据Fn
	  ADDR_AFN0DF163_Source,//原始数据测量点1地址,当为0时表示无效
		(6+(5*(1+TMaxTariff))),//原始数据每Pn长度
	},
	{//日冻结反向无功（组合无功2）电能示值（总、费率1～M）
		164,//类2数据Fn
	  ADDR_AFN0DF164_Source,//原始数据测量点1地址,当为0时表示无效
		(6+(4*(1+TMaxTariff))),//原始数据每Pn长度
	},
	{//日冻结1象限无功电能示值（总、费率1～M）
		165,//类2数据Fn
	  ADDR_AFN0DF165_Source,//原始数据测量点1地址,当为0时表示无效
		(6+(4*(1+TMaxTariff))),//原始数据每Pn长度
	},
	{//日冻结2象限无功电能示值（总、费率1～M）
		166,//类2数据Fn
	  ADDR_AFN0DF166_Source,//原始数据测量点1地址,当为0时表示无效
		(6+(4*(1+TMaxTariff))),//原始数据每Pn长度
	},
	{//日冻结3象限无功电能示值（总、费率1～M）
		167,//类2数据Fn
	  ADDR_AFN0DF167_Source,//原始数据测量点1地址,当为0时表示无效
		(6+(4*(1+TMaxTariff))),//原始数据每Pn长度
	},
	{//日冻结4象限无功电能示值（总、费率1～M）
		168,//类2数据Fn
	  ADDR_AFN0DF168_Source,//原始数据测量点1地址,当为0时表示无效
		(6+(4*(1+TMaxTariff))),//原始数据每Pn长度
	},
	{//169
		0,//类2数据Fn
	  0,//原始数据测量点1地址,当为0时表示无效
		0,//原始数据每Pn长度
	},
	{//170
		0,//类2数据Fn
	  0,//原始数据测量点1地址,当为0时表示无效
		0,//原始数据每Pn长度
	},
	{//171
		0,//类2数据Fn
	  0,//原始数据测量点1地址,当为0时表示无效
		0,//原始数据每Pn长度
	},
	{//172
		0,//类2数据Fn
	  0,//原始数据测量点1地址,当为0时表示无效
		0,//原始数据每Pn长度
	},
	{//173
		0,//类2数据Fn
	  0,//原始数据测量点1地址,当为0时表示无效
		0,//原始数据每Pn长度
	},
	{//174
		0,//类2数据Fn
	  0,//原始数据测量点1地址,当为0时表示无效
		0,//原始数据每Pn长度
	},
	{//175
		0,//类2数据Fn
	  0,//原始数据测量点1地址,当为0时表示无效
		0,//原始数据每Pn长度
	},
	{//176
		0,//类2数据Fn
	  0,//原始数据测量点1地址,当为0时表示无效
		0,//原始数据每Pn长度
	},
	
	{//月冻结正向有功电能示值（总、费率1～M）
		177,//类2数据Fn
	  ADDR_AFN0DF177_Source,//原始数据测量点1地址,当为0时表示无效
		(6+(5*(1+TMaxTariff))),//原始数据每Pn长度
	},
	{//月冻结正向无功（组合无功1）电能示值（总、费率1～M）
		178,//类2数据Fn
	  ADDR_AFN0DF178_Source,//原始数据测量点1地址,当为0时表示无效
		(6+(4*(1+TMaxTariff))),//原始数据每Pn长度
	},
	{//月冻结反向有功电能示值（总、费率1～M）
		179,//类2数据Fn
	  ADDR_AFN0DF179_Source,//原始数据测量点1地址,当为0时表示无效
		(6+(5*(1+TMaxTariff))),//原始数据每Pn长度
	},
	{//月冻结反向无功（组合无功1）电能示值（总、费率1～M）
		180,//类2数据Fn
	  ADDR_AFN0DF180_Source,//原始数据测量点1地址,当为0时表示无效
		(6+(4*(1+TMaxTariff))),//原始数据每Pn长度
	},
	{//月冻结1象限无功电能示值（总、费率1～M）
		181,//类2数据Fn
	  ADDR_AFN0DF181_Source,//原始数据测量点1地址,当为0时表示无效
		(6+(4*(1+TMaxTariff))),//原始数据每Pn长度
	},
	{//月冻结2象限无功电能示值（总、费率1～M）
		182,//类2数据Fn
	  ADDR_AFN0DF182_Source,//原始数据测量点1地址,当为0时表示无效
		(6+(4*(1+TMaxTariff))),//原始数据每Pn长度
	},
	{//月冻结3象限无功电能示值（总、费率1～M）
		183,//类2数据Fn
	  ADDR_AFN0DF183_Source,//原始数据测量点1地址,当为0时表示无效
		(6+(4*(1+TMaxTariff))),//原始数据每Pn长度
	},
	{//月冻结4象限无功电能示值（总、费率1～M）
		184,//类2数据Fn
	  ADDR_AFN0DF184_Source,//原始数据测量点1地址,当为0时表示无效
		(6+(4*(1+TMaxTariff))),//原始数据每Pn长度
	},
	{//日冻结正向有功最大需量及发生时间（总、费率1～M）
		185,//类2数据Fn
	  ADDR_AFN0DF185_Source,//原始数据测量点1地址,当为0时表示无效
		(6+(7*(1+TMaxTariff))),//原始数据每Pn长度
	},
	{//日冻结正向无功最大需量及发生时间（总、费率1～M）
		0,//186,//类2数据Fn
	  0,//ADDR_AFN0DF186_Source,//原始数据测量点1地址,当为0时表示无效
		0,//(6+(7*(1+TMaxTariff))),//原始数据每Pn长度
	},
	{//日冻结反向有功最大需量及发生时间（总、费率1～M）
		187,//类2数据Fn
	  ADDR_AFN0DF187_Source,//原始数据测量点1地址,当为0时表示无效
		(6+(7*(1+TMaxTariff))),//原始数据每Pn长度
	},	
	{//日冻结反向无功最大需量及发生时间（总、费率1～M）
		0,//188,//类2数据Fn
	  0,//ADDR_AFN0DF188_Source,//原始数据测量点1地址,当为0时表示无效
		0,//(6+(7*(1+TMaxTariff))),//原始数据每Pn长度
	},
	{//189
		0,//类2数据Fn
	  0,//原始数据测量点1地址,当为0时表示无效
		0,//原始数据每Pn长度
	},
	{//190
		0,//类2数据Fn
	  0,//原始数据测量点1地址,当为0时表示无效
		0,//原始数据每Pn长度
	},
	{//191
		0,//类2数据Fn
	  0,//原始数据测量点1地址,当为0时表示无效
		0,//原始数据每Pn长度
	},
	{//192
		0,//类2数据Fn
	  0,//原始数据测量点1地址,当为0时表示无效
		0,//原始数据每Pn长度
	},
	{//月冻结正向有功最大需量及发生时间（总、费率1～M）
		193,//类2数据Fn
	  ADDR_AFN0DF193_Source,//原始数据测量点1地址,当为0时表示无效
		(6+(7*(1+TMaxTariff))),//原始数据每Pn长度
	},
	{//月冻结正向无功最大需量及发生时间（总、费率1～M）
		194,//类2数据Fn
	  ADDR_AFN0DF194_Source,//原始数据测量点1地址,当为0时表示无效
		(6+(7*(1+TMaxTariff))),//原始数据每Pn长度
	},
	{//月冻结反向有功最大需量及发生时间（总、费率1～M）
		195,//类2数据Fn
	  ADDR_AFN0DF195_Source,//原始数据测量点1地址,当为0时表示无效
		(6+(7*(1+TMaxTariff))),//原始数据每Pn长度
	},	
	{//月冻结反向无功最大需量及发生时间（总、费率1～M）
		196,//类2数据Fn
	  ADDR_AFN0DF196_Source,//原始数据测量点1地址,当为0时表示无效
		(6+(7*(1+TMaxTariff))),//原始数据每Pn长度
	},
	{//197
		0,//类2数据Fn
	  0,//原始数据测量点1地址,当为0时表示无效
		0,//原始数据每Pn长度
	},
	{//198
		0,//类2数据Fn
	  0,//原始数据测量点1地址,当为0时表示无效
		0,//原始数据每Pn长度
	},
	{//199
		0,//类2数据Fn
	  0,//原始数据测量点1地址,当为0时表示无效
		0,//原始数据每Pn长度
	},
	{//200
		0,//类2数据Fn
	  0,//原始数据测量点1地址,当为0时表示无效
		0,//原始数据每Pn长度
	},
	{//201
		0,//类2数据Fn
	  0,//原始数据测量点1地址,当为0时表示无效
		0,//原始数据每Pn长度
	},
	{//202
		0,//类2数据Fn
	  0,//原始数据测量点1地址,当为0时表示无效
		0,//原始数据每Pn长度
	},
	{//203
		0,//类2数据Fn
	  0,//原始数据测量点1地址,当为0时表示无效
		0,//原始数据每Pn长度
	},
	{//204
		0,//类2数据Fn
	  0,//原始数据测量点1地址,当为0时表示无效
		0,//原始数据每Pn长度
	},
	{//205
		0,//类2数据Fn
	  0,//原始数据测量点1地址,当为0时表示无效
		0,//原始数据每Pn长度
	},
	{//206
		0,//类2数据Fn
	  0,//原始数据测量点1地址,当为0时表示无效
		0,//原始数据每Pn长度
	},
	{//207
		0,//类2数据Fn
	  0,//原始数据测量点1地址,当为0时表示无效
		0,//原始数据每Pn长度
	},
	{//208
		0,//类2数据Fn
	  0,//原始数据测量点1地址,当为0时表示无效
		0,//原始数据每Pn长度
	},

	{//日冻结电能表远程控制通断电状态及记录
		209,//类2数据Fn
	  ADDR_AFN0DF209_Source,//原始数据测量点1地址,当为0时表示无效
		(5+11),//原始数据每Pn长度
	},
	{//测量点电能表购、用电信息
		0,//210,//类2数据Fn
	  0,//ADDR_AFN0DF210_Source,//原始数据测量点1地址,当为0时表示无效
		0,//41,//原始数据每Pn长度
	},
	{//211
		0,//类2数据Fn
	  0,//原始数据测量点1地址,当为0时表示无效
		0,//原始数据每Pn长度
	},
	{//212
		0,//类2数据Fn
	  0,//原始数据测量点1地址,当为0时表示无效
		0,//原始数据每Pn长度
	},

	{//月冻结电能表开关操作次数及时间
		213,//类2数据Fn
	  ADDR_AFN0DF213_Source,//原始数据测量点1地址,当为0时表示无效
		5+18,//原始数据每Pn长度
	},
	{//月冻结电能表参数修改次数及时间
		214,//类2数据Fn
	  ADDR_AFN0DF214_Source,//原始数据测量点1地址,当为0时表示无效
		5+24,//原始数据每Pn长度
	},
	{//月冻结电能表购、用电信息
		215,//类2数据Fn
	  ADDR_AFN0DF215_Source,//原始数据测量点1地址,当为0时表示无效
		5+36,//原始数据每Pn长度
	},
	{//月冻结电能表结算信息
		216,//类2数据Fn
	  ADDR_AFN0DF216_Source,//原始数据测量点1地址,当为0时表示无效
		(6+(10*(1+TMaxTariff))),//原始数据每Pn长度
	},


};


u32 Get_Class2SourceData_MaxLib(void)//得到类2原始最大库列表个数
{
  return(sizeof(Terminal_Class2SourceDataLib)/sizeof(Terminal_Class2SourceDataLib_TypeDef));
}


u32 GetClass2SourceDataAddr(u32 Fn,u32 Pn)//取类2原始数据存贮地址,返回0表示没找到,有效数据长度放ADDR_Terminal_ClassDataLen
{
	u32 * p32;

	if(Fn<Class2SourceDataLib_FnMin)//原始数据库最小Fn
	{
		return 0;
	}
	Fn-=Class2SourceDataLib_FnMin;
	if(Fn>=Get_Class2SourceData_MaxLib())//得到类2原始最大库列表个数
	{
		return 0;
	}
	if(Pn==0)
	{
		return 0;
	}
	if(Pn>MaxRS485AddCarrierPn)
	{
		return 0;
	}
	p32=(u32 *)(ADDR_Terminal_ClassDataLen);
	p32[0]=Terminal_Class2SourceDataLib[Fn].Len;
	Fn=Terminal_Class2SourceDataLib[Fn].SourAddr;
	if(Fn==0)
	{
		return 0;
	}
	Fn+=(Pn-1)*LEN_AFN0D_Source;
	return Fn;
}



